!function(e){"function"==typeof define&&define.amd?define(e):e()}((function(){"use strict";var e=require("react");function n(e){var t,r,o="";if("string"==typeof e||"number"==typeof e)o+=e;else if("object"==typeof e)if(Array.isArray(e))for(t=0;t<e.length;t++)e[t]&&(r=n(e[t]))&&(o&&(o+=" "),o+=r);else for(t in e)e[t]&&(o&&(o+=" "),o+=t);return o}function t(){for(var e,t,r=0,o="";r<arguments.length;)(e=arguments[r++])&&(t=n(e))&&(o&&(o+=" "),o+=t);return o}var r=["mousedown","touchstart"];function o(e){var n=e.getBoundingClientRect(),r=n.bottom>window.innerHeight&&n.top>n.height,o=n.left<0,i=n.right>window.innerWidth;return t({"rnd__menu--top":r,"rnd__menu--bottom":n.top<0,"rnd__menu--right":o,"rnd__menu--left":i})}var i=function(n){var r,c=n.option,l=n.onSelect,a=n.renderOption,s=c.items,d=!!s,f=null!==(r=c.itemsContainerWidth)&&void 0!==r?r:150,v=e.useState(""),m=v[0],p=v[1],_=e.useState(!1),E=_[0],h=_[1],b=e.useCallback((function(e){e.stopPropagation(),l(c)}),[d,l,c]),g=e.useRef(null);e.useEffect((function(){var e=g.current,n=new ResizeObserver((function(e){e.forEach((function(e){e.target instanceof HTMLElement&&(h(e.target.offsetWidth>0),p(o(e.target)))}))}));return e&&n.observe(e),function(){e&&n.unobserve(e)}}),[]);var y=d?u:c.iconAfter;return e.createElement("li",{className:t("rnd__option",c.className,{"rnd__option--disabled":c.disabled,"rnd__option--with-menu":d}),onMouseDown:b,onKeyUp:b},d&&e.createElement("ul",{className:t("rnd__menu rnd__submenu ".concat(m),{"rnd__submenu--opened":E}),ref:g,style:{width:f}},e.createElement("div",{className:"rnd-overlay-submenu"},s.map((function(n,t){return e.createElement(i,{key:t,option:n,onSelect:l,renderOption:a})})))),a&&a(c),!a&&e.createElement(e.Fragment,null,c.iconBefore&&e.createElement("div",{className:"rnd__option-icon rnd__option-icon--left"},c.iconBefore),e.createElement("p",{className:"rnd__option-label"},c.label),y&&e.createElement("div",{className:"rnd__option-icon rnd__option-icon--right"},y)))},u=e.createElement("div",{style:{border:"5px solid currentColor",borderRightColor:"transparent",borderBottomColor:"transparent",borderTopColor:"transparent",width:0,height:0}});exports.Dropdown=function(n){var u=n.items,c=n.containerWidth,l=void 0===c?300:c,a=n.onSelect;n.onHover;var s=n.children,d=n.className,f=n.renderOption,v=n.closeOnScroll,m=void 0===v||v,p=e.useRef(null),_=e.useRef(null),E=e.useState(""),h=E[0],b=E[1],g=e.useState(!1),y=g[0],L=g[1],S=e.useState(!1),w=S[0],C=S[1],N=e.useState(!1),k=N[0],O=N[1],R=function(){},q=function(){var e,n;C((function(e){return!0})),(null===(n=null===(e=p.current)||void 0===e?void 0:e.querySelector("ul"))||void 0===n?void 0:n.classList.contains("hovered"))||O((function(e){return!0}))},B=function(){O((function(e){return!0}))},H=function(){var e,n;null===(n=null===(e=p.current)||void 0===e?void 0:e.querySelector("ul"))||void 0===n||n.classList.add("hovered")},W=e.useCallback((function(){var e,n,t,r;(null===(e=p.current)||void 0===e?void 0:e.classList.contains("hovered"))||(null===(n=p.current)||void 0===n||n.addEventListener("mouseover",R),null===(t=p.current)||void 0===t||t.classList.add("hovered"),null===(r=p.current)||void 0===r||r.addEventListener("mouseleave",q),setTimeout((function(){var e,n,t,r;null===(n=null===(e=p.current)||void 0===e?void 0:e.querySelector("ul"))||void 0===n||n.addEventListener("mouseover",H),null===(r=null===(t=p.current)||void 0===t?void 0:t.querySelector("ul"))||void 0===r||r.addEventListener("mouseleave",B)}),200)),L((function(e){return!0}))}),[]),A=e.useCallback((function(){var e,n;null===(e=p.current)||void 0===e||e.classList.remove("hovered"),null===(n=_.current)||void 0===n||n.classList.remove("hovered"),L(!1),C(!1),O(!1)}),[]),M=e.useMemo((function(){return{isOpen:y,onClick:W,onHover:W}}),[y,W]),T=e.useCallback((function(e){e.disabled||(e.onSelect?e.onSelect():void 0!==e.value&&a&&a(e.value,e),A())}),[A,a]);!function(n,t,o){void 0===o&&(o=r);var i=e.useRef(t);e.useEffect((function(){i.current=t}),[t]),e.useEffect((function(){function e(e){var t=n.current;t&&!t.contains(e.target)&&i.current(e)}return o.forEach((function(n){document.addEventListener(n,e)})),function(){o.forEach((function(n){document.removeEventListener(n,e)}))}}),[o,n])}(p,A);var x=e.useCallback((function(e){var n,t=e.target;(null===(n=null==t?void 0:t.classList)||void 0===n?void 0:n.contains("rnd__menu"))||A()}),[A]);return e.useEffect((function(){return y&&m&&document.addEventListener("scroll",x,!0),function(){document.removeEventListener("scroll",x,!0)}}),[y]),e.useEffect((function(){w&&k&&A()}),[w,k]),e.useLayoutEffect((function(){return y&&_.current&&b(o(_.current)),function(){y&&b("")}}),[y]),e.createElement("div",{className:t("rnd",d),ref:p},s(M),y&&e.createElement("div",{className:"rnd-overlay"},e.createElement("ul",{className:"rnd__root-menu rnd__menu ".concat(h),style:{width:l},ref:_},u.map((function(n,t){return e.createElement(i,{key:t,option:n,onSelect:T,renderOption:f})})))))}}));
