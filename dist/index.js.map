{"version":3,"file":"index.js","sources":["../src/hooks/use-click-away.ts","../src/components/dropdown/utils.ts","../src/components/dropdown/index.tsx"],"sourcesContent":["import { RefObject, useEffect, useRef } from 'react';\r\n\r\nconst defaultEvents = ['mousedown', 'touchstart'];\r\n\r\nexport function useClickAway(\r\n  ref: RefObject<HTMLElement | null>,\r\n  onClickAway: (event: Event) => void,\r\n  events: string[] = defaultEvents,\r\n): void {\r\n  const savedCallback = useRef(onClickAway);\r\n\r\n  useEffect(() => {\r\n    savedCallback.current = onClickAway;\r\n  }, [onClickAway]);\r\n\r\n  useEffect(() => {\r\n    function handler(event: Event): void {\r\n      const { current: el } = ref;\r\n      if (el && !el.contains(event.target as Node)) {\r\n        savedCallback.current(event);\r\n      }\r\n    }\r\n\r\n    events.forEach(eventName => {\r\n      document.addEventListener(eventName, handler);\r\n    });\r\n\r\n    return () => {\r\n      events.forEach(eventName => {\r\n        document.removeEventListener(eventName, handler);\r\n      });\r\n    };\r\n  }, [events, ref]);\r\n}\r\n","import clsx from 'clsx';\r\n\r\nexport function getMenuPositionClassName(element: HTMLElement) {\r\n  const rect = element.getBoundingClientRect();\r\n  const isBottomOverflow = rect.bottom > window.innerHeight && rect.top > rect.height;\r\n  const isLeftOverflow = rect.left < 0;\r\n  const isRightOverflow = rect.right > window.innerWidth;\r\n  const isTopOverflow = rect.top < 0;\r\n\r\n  const className = clsx({\r\n    'rnd__menu--top': isBottomOverflow,\r\n    'rnd__menu--bottom': isTopOverflow,\r\n    'rnd__menu--right': isLeftOverflow,\r\n    'rnd__menu--left': isRightOverflow,\r\n  });\r\n\r\n  return className;\r\n}\r\n","import clsx from 'clsx';\r\nimport React, {\r\n  ReactElement,\r\n  ReactNode,\r\n  UIEvent,\r\n  useCallback,\r\n  useEffect,\r\n  useLayoutEffect,\r\n  useMemo,\r\n  useRef,\r\n  useState,\r\n} from 'react';\r\nimport { useClickAway } from '~/hooks/use-click-away';\r\n\r\nimport { getMenuPositionClassName } from './utils';\r\n\r\nexport interface DropdownItem<TValue = undefined> {\r\n  label: string;\r\n  iconBefore?: ReactNode;\r\n  iconAfter?: ReactNode;\r\n  items?: DropdownItem<TValue>[];\r\n  itemsContainerWidth?: number | string;\r\n  value?: TValue;\r\n  onSelect?: () => void;\r\n  disabled?: boolean;\r\n  className?: string;\r\n}\r\n\r\nexport interface DropdownProps<TValue> {\r\n  items: DropdownItem<TValue>[];\r\n  containerWidth?: number | string;\r\n  onSelect?: (value: TValue, option: DropdownItem<TValue>) => void;\r\n  onHover?: () => void;\r\n  children: (params: { onHover: () => void; onClick: () => void; isOpen: boolean }) => ReactElement;\r\n  className?: string;\r\n  renderOption?: (option: DropdownItem<TValue>) => ReactNode;\r\n  closeOnScroll?: boolean;\r\n}\r\n\r\nexport const Dropdown = <TValue,>({\r\n  items,\r\n  containerWidth = 300,\r\n  onSelect,\r\n  onHover,\r\n  children,\r\n  className,\r\n  renderOption,\r\n  closeOnScroll = true,\r\n}: DropdownProps<TValue>): React.ReactElement => {\r\n  const containerRef = useRef<HTMLDivElement>(null);\r\n  const rootMenuRef = useRef<HTMLUListElement>(null);\r\n  const [menuPositionClassName, setMenuPositionClassName] = useState<string>('');\r\n  const [dropdownIsOpen, setDropdownOpen] = useState(false);\r\n  const [dropdownMainClose, setDropdownMainClose] = useState(false);\r\n  const [dropdownChildClose, setDropdownChildClose] = useState(false);\r\n\r\n  const handleMouseOver = () => {\r\n  };\r\n\r\n  const handleMouseOutMain = () => {\r\n    setDropdownMainClose(state => true);\r\n    if(!containerRef.current?.querySelector('ul')?.classList.contains('hovered')){\r\n      setDropdownChildClose(state => true);  \r\n    }\r\n  };\r\n\r\n  const handleMouseOutChild = () => {\r\n    setDropdownChildClose(state => true);\r\n  };\r\n\r\n  const handleMouseOverChild = () => {\r\n    containerRef.current?.querySelector('ul')?.classList.add('hovered');\r\n  };\r\n\r\n  const toggleDropdown = useCallback(() => {\r\n    if(!containerRef.current?.classList.contains('hovered')){\r\n      containerRef.current?.addEventListener('mouseover', handleMouseOver)\r\n      containerRef.current?.classList.add('hovered');\r\n      \r\n      containerRef.current?.addEventListener('mouseleave', handleMouseOutMain)\r\n      setTimeout(() => {\r\n        containerRef.current?.querySelector('ul')?.addEventListener('mouseover', handleMouseOverChild)\r\n        containerRef.current?.querySelector('ul')?.addEventListener('mouseleave', handleMouseOutChild)\r\n      }, 200);\r\n    }\r\n    setDropdownOpen(state => true)\r\n  }, []);\r\n\r\n  const closeDropdown = useCallback(() => {\r\n    containerRef.current?.classList.remove('hovered');\r\n    rootMenuRef.current?.classList.remove('hovered');\r\n    setDropdownOpen(false)\r\n    setDropdownMainClose(false);\r\n    setDropdownChildClose(false);\r\n  }, []);\r\n\r\n  const childrenProps = useMemo(() => {\r\n    return {\r\n      isOpen: dropdownIsOpen,\r\n      onClick: toggleDropdown,\r\n      onHover: toggleDropdown\r\n    };\r\n  }, [dropdownIsOpen, toggleDropdown]);\r\n\r\n  const handleSelect = React.useCallback(\r\n    (item: DropdownItem<TValue>) => {\r\n      if (item.disabled) {\r\n        return;\r\n      }\r\n\r\n      if (item.onSelect) {\r\n        item.onSelect();\r\n      } else if (item.value !== undefined && onSelect) {\r\n        onSelect(item.value, item);\r\n      }\r\n      closeDropdown();\r\n    },\r\n    [closeDropdown, onSelect],\r\n  );\r\n\r\n  useClickAway(containerRef, closeDropdown);\r\n\r\n  const scrollListener = React.useCallback(\r\n    (e: Event) => {\r\n      const el = e.target as HTMLElement | null;\r\n      if (!el?.classList?.contains('rnd__menu')) {\r\n        closeDropdown();\r\n      }\r\n    },\r\n    [closeDropdown],\r\n  );\r\n\r\n  useEffect(() => {\r\n    if (dropdownIsOpen && closeOnScroll) {\r\n      document.addEventListener('scroll', scrollListener, true);\r\n    }\r\n    return () => {\r\n      document.removeEventListener('scroll', scrollListener, true);\r\n    };\r\n  }, [dropdownIsOpen]);\r\n\r\n  useEffect(() => {\r\n    if (dropdownMainClose && dropdownChildClose) {\r\n      closeDropdown();\r\n    }\r\n  }, [dropdownMainClose,dropdownChildClose]);\r\n\r\n  useLayoutEffect(() => {\r\n    if (dropdownIsOpen && rootMenuRef.current) {\r\n      setMenuPositionClassName(getMenuPositionClassName(rootMenuRef.current));\r\n    }\r\n    return () => {\r\n      if (dropdownIsOpen) {\r\n        setMenuPositionClassName('');\r\n      }\r\n    };\r\n  }, [dropdownIsOpen]);\r\n\r\n  return (\r\n    <div className={clsx('rnd', className)} ref={containerRef}>\r\n      {children(childrenProps)}\r\n      {dropdownIsOpen && (\r\n        <div className='rnd-overlay'>\r\n          <ul\r\n            className={`rnd__root-menu rnd__menu ${menuPositionClassName}`}\r\n            style={{ width: containerWidth }}\r\n            ref={rootMenuRef}\r\n          >\r\n            {items.map((item, index) => (\r\n              <Option key={index} option={item} onSelect={handleSelect} renderOption={renderOption} />\r\n            ))}\r\n          </ul>\r\n        </div>\r\n      )}\r\n    </div>\r\n  );\r\n};\r\n\r\ninterface OptionProps<TValue> {\r\n  option: DropdownItem<TValue>;\r\n  onSelect: (item: DropdownItem<TValue>) => void;\r\n  renderOption?: (option: DropdownItem<TValue>) => React.ReactNode;\r\n}\r\n\r\nconst Option = <TValue,>({\r\n  option,\r\n  onSelect,\r\n  renderOption,\r\n}: OptionProps<TValue>): React.ReactElement => {\r\n  const items = option.items;\r\n  const hasSubmenu = !!items;\r\n  const itemsContainerWidth = option.itemsContainerWidth ?? 150;\r\n  const [menuPositionClassName, setMenuPositionClassName] = useState<string>('');\r\n  const [submenuIsOpen, setSubmenuOpen] = useState(false);\r\n\r\n  const handleClick = React.useCallback(\r\n    (e: UIEvent) => {\r\n      if (hasSubmenu) return;\r\n\r\n      e.stopPropagation();\r\n      onSelect(option);\r\n    },\r\n    [hasSubmenu, onSelect, option],\r\n  );\r\n\r\n  const submenuRef = useRef<HTMLUListElement>(null);\r\n\r\n  useEffect(() => {\r\n    const submenuElement = submenuRef.current;\r\n\r\n    const observer = new ResizeObserver(entries => {\r\n      entries.forEach(entry => {\r\n        const isHTMLElement = entry.target instanceof HTMLElement;\r\n        if (isHTMLElement) {\r\n          setSubmenuOpen(entry.target.offsetWidth > 0);\r\n          setMenuPositionClassName(getMenuPositionClassName(entry.target));\r\n        }\r\n      });\r\n    });\r\n\r\n    if (submenuElement) {\r\n      observer.observe(submenuElement);\r\n    }\r\n\r\n    return () => {\r\n      if (submenuElement) {\r\n        observer.unobserve(submenuElement);\r\n      }\r\n    };\r\n  }, []);\r\n\r\n  const iconAfter = hasSubmenu ? chevronNode : option.iconAfter;\r\n\r\n  return (\r\n    // eslint-disable-next-line jsx-a11y/no-noninteractive-element-interactions\r\n    <li\r\n      className={clsx('rnd__option', option.className, {\r\n        'rnd__option--disabled': option.disabled,\r\n        'rnd__option--with-menu': hasSubmenu,\r\n      })}\r\n      onMouseDown={handleClick}\r\n      onKeyUp={handleClick}\r\n    >\r\n      {hasSubmenu && (\r\n        <ul\r\n          className={clsx(`rnd__menu rnd__submenu ${menuPositionClassName}`, {\r\n            'rnd__submenu--opened': submenuIsOpen,\r\n          })}\r\n          ref={submenuRef}\r\n          style={{ width: itemsContainerWidth }}\r\n        >\r\n          {items.map((item, index) => (\r\n            <Option key={index} option={item} onSelect={onSelect} renderOption={renderOption} />\r\n          ))}\r\n        </ul>\r\n      )}\r\n      {renderOption && renderOption(option)}\r\n      {!renderOption && (\r\n        <>\r\n          {option.iconBefore && (\r\n            <div className=\"rnd__option-icon rnd__option-icon--left\">{option.iconBefore}</div>\r\n          )}\r\n          <p className=\"rnd__option-label\">{option.label}</p>\r\n          {iconAfter && <div className=\"rnd__option-icon rnd__option-icon--right\">{iconAfter}</div>}\r\n        </>\r\n      )}\r\n    </li>\r\n  );\r\n};\r\n\r\nconst chevronNode = (\r\n  <div\r\n    style={{\r\n      border: '5px solid currentColor',\r\n      borderRightColor: 'transparent',\r\n      borderBottomColor: 'transparent',\r\n      borderTopColor: 'transparent',\r\n      width: 0,\r\n      height: 0,\r\n    }}\r\n  />\r\n);\r\n"],"names":["useRef","useEffect","useState","useCallback","useMemo","useLayoutEffect"],"mappings":"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"}